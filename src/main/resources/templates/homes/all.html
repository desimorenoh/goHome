<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments/head">

</head>

<body>
<header th:replace="fragments/header"></header>

<section class="container mb-5">
    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <a class="btn button-add-home mt-3" href="/homes/new" role="button" sec:authorize="isAuthenticated()">Añadir
            Nuevo</a>

    </div>
    <h1 class="titleAdd" style="text-align: center" th:text="${title}"></h1>


    <div class="d-flex flex-row flex-wrap justify-content-center bd-highlight">
        
            <div th:each="goHome: ${homes}" class="card block m-3 front-card">
            <a class="h-50" th:href="'/homes/details/'+${goHome.id}"><img th:src="${goHome.image}"
                                                                            class="card-img-top h-100" alt="cover"></a>
            <div class="block_body block_body_cat">
                <h5 class="card-title ml-1"><i class="bi bi-house-fill"></i> [[${goHome.title}]]</h5>
                <ul class="list-group list-group-flush mb-3">
                    <li th:text="${goHome.id}" class="list-group-item item-all" style="display:none;"></li>
                    <li th:text="${goHome.description}" class="list-group-item item-all"></li>
                    <li class="list-group-item item-all"><i class="bi bi-currency-euro"></i> [[${goHome.price}]] <i
                            class="bi bi-grid-3x3"></i> [[${goHome.surface}]] m<sup>2</sup>. <img
                            th:src="@{/img/cama.png}" width="20rem"> [[${goHome.bedrooms}]].
                    </li>
                </ul>
                <div class="text-center">
                    <a class="btn btn-sm my-2 mb-5 button-information edit-btn" href="/homes/info" sec:authorize="isAnonymous()">Información</a>
                </div>
                <div class="d-flex justify-content-center">
                    <a class="btn button-edit btn-sm mb-5 edit-btn" style="margin-right: .5rem;"
                       th:href="'/homes/edit/'+${goHome.id}"
                       sec:authorize="isAuthenticated()">Edit</a>
                    <a class="btn button-delete btn-sm mb-5 del-btn " th:href="'/homes/delete/'+${goHome.id}"
                       sec:authorize="isAuthenticated()">Delete</a>
                </div>
            </div>
     </div>
    </div>
</section>
</body>
<footer th:replace="fragments/footer"></footer>

</html>